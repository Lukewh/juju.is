{% extends "base.html" %}

{% block page_class %}docs{% endblock %}
{% block page_title %}{% if document %}{{ document.title }}{% else %}Docs{% endif %}{% endblock %}

{% block content %}
  <section id="search-docs" class="p-strip--image is-shallow" style="background-image: url('https://assets.ubuntu.com/v1/e54487e2-maas-docs-suru.png')">
    <div class="row">
      <form class="p-search-box u-no-margin--bottom" action="/docs/search">
        <input type="search" class="p-search-box__input" name="q" {% if query %}value="{{ query }}"{% endif %} placeholder="Search documentation" required/>
        <button type="reset" class="p-search-box__reset" alt="reset"><i class="p-icon--close">Reset</i></button>
        <button type="submit" class="p-search-box__button" alt="search"><i class="p-icon--search">Search</i></button>
      </form>
    </div>
  </section>
  <div class="l-docs">
    <aside class="l-docs-sidebar" id="navigation">
      <a href="" class="p-sidenav__toggle p-icon--menu u-hide--medium u-hide--large"></a>
      <nav class="p-sidenav__body u-hide--small">
        {{ navigation | safe }}
      </nav>

      <script>
        document.addEventListener("DOMContentLoaded", function(event) {
          // Toggle mobile sidebar nav
          var toggle = document.querySelector('.p-sidenav__toggle');
          var sidebarContent = document.querySelector('.p-sidenav__body');
          toggle.addEventListener('click', function(e) {
            e.preventDefault();
            toggle.classList.toggle('p-icon--menu');
            toggle.classList.toggle('p-icon--close');
            sidebarContent.classList.toggle('u-hide--small');
          });
        });
      </script>
    </aside>
    {% block content_docs %}{% endblock content_docs %}
  </div>
{% endblock %}
